<odoo>
    <data>
        <!-- Search View -->
        <record id="view_pantry_report_search" model="ir.ui.view">
            <field name="name">pantry.report.search</field>
            <field name="model">pantry.report</field>
            <field name="arch" type="xml">
                <search string="Phân tích">
                    <field name="date" />
                    <field name="item_id" />
                    <field name="type" />
                    <filter string="Ngày" name="group_date" context="{'group_by': 'date'}" />
                    <filter string="Sản phẩm" name="group_item" context="{'group_by': 'item_id'}" />
                    <filter string="Loại" name="group_type" context="{'group_by': 'type'}" />
                </search>
            </field>
        </record>

        <!-- Import Views -->
        <record id="view_pantry_report_import_pivot" model="ir.ui.view">
            <field name="name">pantry.report.import.pivot</field>
            <field name="model">pantry.report</field>
            <field name="arch" type="xml">
                <pivot string="Báo cáo Nhập hàng" display_quantity="true">
                    <field name="date" type="col" interval="month" />
                    <field name="item_id" type="row" />
                    <field name="import_qty" type="measure" />
                    <field name="import_cost" type="measure" />
                </pivot>
            </field>
        </record>

        <record id="view_pantry_report_import_graph" model="ir.ui.view">
            <field name="name">pantry.report.import.graph</field>
            <field name="model">pantry.report</field>
            <field name="arch" type="xml">
                <graph string="Báo cáo Nhập hàng" type="bar">
                    <field name="date" interval="day" />
                    <field name="import_cost" type="measure" />
                </graph>
            </field>
        </record>

        <!-- Sale Views -->
        <record id="view_pantry_report_sale_pivot" model="ir.ui.view">
            <field name="name">pantry.report.sale.pivot</field>
            <field name="model">pantry.report</field>
            <field name="arch" type="xml">
                <pivot string="Báo cáo Bán hàng" display_quantity="true">
                    <field name="date" type="col" interval="month" />
                    <field name="item_id" type="row" />
                    <field name="sold_qty" type="measure" />
                    <field name="revenue" type="measure" />
                    <field name="cogs" type="measure" />
                    <field name="discard_qty" type="measure" />
                    <field name="discard_cost" type="measure" />
                    <field name="profit" type="measure" />
                </pivot>
            </field>
        </record>

        <record id="view_pantry_report_sale_graph" model="ir.ui.view">
            <field name="name">pantry.report.sale.graph</field>
            <field name="model">pantry.report</field>
            <field name="arch" type="xml">
                <graph string="Báo cáo Bán hàng" type="bar">
                    <field name="date" interval="day" />
                    <field name="profit" type="measure" />
                </graph>
            </field>
        </record>

        <!-- Actions -->
        <record id="action_pantry_report_import" model="ir.actions.act_window">
            <field name="name">Báo cáo Nhập hàng</field>
            <field name="res_model">pantry.report</field>
            <field name="view_mode">pivot,graph</field>
            <field name="domain">[('type', '=', 'import')]</field>
            <field name="context">{'search_default_group_date': 1}</field>
            <field name="view_ids"
                eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'pivot', 'view_id': ref('view_pantry_report_import_pivot')}),
                (0, 0, {'view_mode': 'graph', 'view_id': ref('view_pantry_report_import_graph')})]" />
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Chưa có dữ liệu nhập hàng.
                </p>
            </field>
        </record>

        <record id="action_pantry_report_sale" model="ir.actions.act_window">
            <field name="name">Báo cáo Bán hàng</field>
            <field name="res_model">pantry.report</field>
            <field name="view_mode">pivot,graph</field>
            <field name="domain">[('type', '=', 'sale')]</field>
            <field name="context">{'search_default_group_date': 1}</field>
            <field name="view_ids"
                eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'pivot', 'view_id': ref('view_pantry_report_sale_pivot')}),
                (0, 0, {'view_mode': 'graph', 'view_id': ref('view_pantry_report_sale_graph')})]" />
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Chưa có dữ liệu bán hàng.
                </p>
            </field>
        </record>

        <!-- Menus -->
        <menuitem id="menu_pantry_report_root" name="Báo cáo" parent="menu_pantry_root"
            sequence="30" />
        <menuitem id="menu_pantry_report_import" name="Báo cáo Nhập hàng"
            parent="menu_pantry_report_root" action="action_pantry_report_import" sequence="10" />
        <menuitem id="menu_pantry_report_sale" name="Báo cáo Bán hàng"
            parent="menu_pantry_report_root" action="action_pantry_report_sale" sequence="20" />
    </data>
</odoo>