<odoo>
  <data>

    <record id="view_animal_species_tree" model="ir.ui.view">
      <field name="name">animal.species.tree</field>
      <field name="model">animal.species</field>
      <field name="arch" type="xml">
        <list string="Danh mục Loài vật">
          <field name="name" />
          <field name="classification" />
          <field name="description" />
        </list>
      </field>
    </record>

    <record id="view_animal_species_form" model="ir.ui.view">
      <field name="name">animal.species.form</field>
      <field name="model">animal.species</field>
      <field name="arch" type="xml">
        <form string="Thông tin Loài">
          <sheet>
            <div class="oe_button_box" name="button_box">
              <button name="action_view_animals" type="object" class="oe_stat_button" icon="fa-paw">
                <field name="animal_count" widget="statinfo" string="Động vật"/>
              </button>
            </div>
            <group>
              <field name="name" />
              <field name="classification" />
              <field name="description" />
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="action_animal_species" model="ir.actions.act_window">
      <field name="name">Danh mục Loài vật</field>
      <field name="res_model">animal.species</field>
      <field name="view_mode">list,form</field>
    </record>


    <record id="view_cage_tree" model="ir.ui.view">
      <field name="name">cage.tree</field>
      <field name="model">cage</field>
      <field name="arch" type="xml">
        <list string="Danh sách Chuồng nuôi">
          <field name="name" />
          <field name="species_id" />
        </list>
      </field>
    </record>

    <record id="view_cage_form" model="ir.ui.view">
      <field name="name">cage.form</field>
      <field name="model">cage</field>
      <field name="arch" type="xml">
        <form string="Thông tin Chuồng nuôi">
          <sheet>
            <group>
              <group string="Thông tin chung">
                <field name="name" />
                <field name="species_id" />
              </group>
            </group>
            <notebook>
              <page string="Danh sách vật nuôi">
                <field name="animal_ids">
                  <list>
                    <field name="name" />
                    <field name="age" />
                    <field name="health_status" />
                  </list>
                </field>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <record id="action_cage" model="ir.actions.act_window">
      <field name="name">Quản lý Chuồng nuôi</field>
      <field name="res_model">cage</field>
      <field name="view_mode">list,form</field>
    </record>


    <record id="view_animal_base_tree" model="ir.ui.view">
      <field name="name">animal.base.tree</field>
      <field name="model">animal.base</field>
      <field name="arch" type="xml">
        <list string="Danh sách Động vật">
          <field name="name" />
          <field name="species_id" />
          <field name="cage_id" />
          <field name="birthday" />
          <field name="age" />
          <field name="weight" />
          <field name="height" />
          <field name="health_status" />
        </list>
      </field>
    </record>

    <record id="view_animal_base_form" model="ir.ui.view">
      <field name="name">animal.base.form</field>
      <field name="model">animal.base</field>
      <field name="arch" type="xml">
        <form string="Thông tin Động vật">
          <sheet>
            <group>
              <group string="Thông tin chung">
                <field name="name" />
                <field name="species_id" />
                <field name="cage_id" />
                <field name="birthday" />
                <field name="age" />
                <field name="weight" />
                <field name="height" />
              </group>
              <group string="Sức khỏe (Extension)">
                <field name="health_status" />
                <field name="last_checkup_date" />
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="view_animal_base_kanban" model="ir.ui.view">
      <field name="name">animal.base.kanban</field>
      <field name="model">animal.base</field>
      <field name="arch" type="xml">
        <kanban default_group_by="species_id" records_draggable="false">
          <field name="name"/>
          <field name="species_id"/>
          <field name="health_status"/>
          <templates>
            <t t-name="card">
              <div class="oe_kanban_global_click">
                <div class="o_kanban_record_top">
                  <strong class="o_kanban_record_title">
                    <field name="name"/>
                  </strong>
                </div>
                <div class="o_kanban_record_body">
                  <div>Loài: <field name="species_id"/></div>
                  <div>Tuổi: <field name="age"/></div>
                  <div>
                    <span t-attf-class="badge #{record.health_status.raw_value == 'good' ? 'text-bg-success' : (record.health_status.raw_value == 'sick' ? 'text-bg-danger' : 'text-bg-warning')}">
                      <field name="health_status"/>
                    </span>
                  </div>
                </div>
              </div>
            </t>
          </templates>
        </kanban>
      </field>
    </record>

    <record id="view_animal_base_pivot" model="ir.ui.view">
      <field name="name">animal.base.pivot</field>
      <field name="model">animal.base</field>
      <field name="arch" type="xml">
        <pivot string="Thống kê Động vật">
          <field name="species_id" type="row"/>
          <field name="cage_id" type="col"/>
          <field name="age" type="measure"/>
        </pivot>
      </field>
    </record>

    <record id="view_animal_base_graph" model="ir.ui.view">
      <field name="name">animal.base.graph</field>
      <field name="model">animal.base</field>
      <field name="arch" type="xml">
        <graph string="Thống kê Động vật" type="bar">
          <field name="name"/>
          <field name="species_id"/>
          <field name="age" type="measure"/>
        </graph>
      </field>
    </record>

    <record id="action_animal_base" model="ir.actions.act_window">
      <field name="name">Hồ sơ Động vật</field>
      <field name="res_model">animal.base</field>
      <field name="view_mode">list,form,kanban,pivot,graph</field>
    </record>





    <record id="view_race_horse_tree" model="ir.ui.view">
      <field name="name">race.horse.tree</field>
      <field name="model">race.horse</field>
      <field name="arch" type="xml">
        <list string="Ngựa đua">
          <field name="name" optional="hide" />
          <field name="species_id" />
          <field name="cage_id" />
          <field name="age" />
          <field name="top_speed" />
          <field name="trophies_count" />
          <field name="health_status" />
        </list>
      </field>
    </record>

    <record id="view_race_horse_form" model="ir.ui.view">
      <field name="name">race.horse.form</field>
      <field name="model">race.horse</field>
      <field name="arch" type="xml">
        <form string="Ngựa đua">
          <sheet>
            <group>
              <group string="Thông tin cơ bản">
                <field name="name" />
                <field name="species_id" readonly="1" />
                <field name="cage_id" />
                <field name="birthday" />
                <field name="age" />
              </group>
              <group string="Thành tích">
                <field name="top_speed" />
                <field name="trophies_count" />
              </group>
              <group string="Sức khỏe (Delegate)">
                <field name="health_status" />
                <field name="last_checkup_date" />
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="action_race_horse" model="ir.actions.act_window">
      <field name="name">Ngựa đua</field>
      <field name="res_model">race.horse</field>
      <field name="view_mode">list,form</field>
    </record>


    <menuitem id="menu_inherit_root" name="Sở thú" sequence="10" />

    <menuitem id="menu_animal_species"
      name="Loài vật"
      parent="menu_inherit_root"
      action="action_animal_species"
      sequence="100" />

    <menuitem id="menu_cage"
      name="Chuồng nuôi"
      parent="menu_inherit_root"
      action="action_cage"
      sequence="1" />

    <menuitem id="menu_animal_base"
      name="Hồ sơ gốc"
      parent="menu_inherit_root"
      action="action_animal_base"
      sequence="2" />



    <menuitem id="menu_race_horse"
      name="Ngựa đua"
      parent="menu_inherit_root"
      action="action_race_horse"
      sequence="4" />

  </data>
</odoo>